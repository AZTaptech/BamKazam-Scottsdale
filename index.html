<!-- This block sets up the html structure -->

<!DOCTYPE html> <!-- Declares the document type and tells the browser this is HTML5 -->
<html lang="en"> <!-- Opens the root HTML element; lang="en" tells browsers and screen readers the language is English -->
<head> <!-- Opens the head section, which contains metadata (not visible page content) -->
<meta charset="UTF-8"> <!-- Sets the character encoding to UTF-8 so special characters display correctly -->
<meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Controls how the page scales on different screen sizes (critical for mobile responsiveness) -->
<title>Room Score Tracker</title> <!-- Sets the text shown in the browser tab and search engine results -->
        
<!-- This is the end of the block sets up the html structure -->



        
<style> /* Opens the CSS section to define the visual style */
        
        body { /* Selects the entire page body to set defaults */
            background-color: #121212; /* Sets the background to a dark, modern grey-black */
            color: #ffffff; /* Sets the default text color to white for contrast */
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; /* Sets a clean, modern font stack */
            margin: 0; /* Removes default messy spacing around the edges */
            padding: 0; /* Removes default internal spacing */
            display: flex; /* Uses Flexbox layout to align items easily */
            flex-direction: column; /* Stacks items vertically (top to bottom) */
            align-items: center; /* Centers items horizontally in the middle */
            min-height: 100vh; /* Ensures the background fills the full phone screen height */
        } /* Closes the body style rule */

        #landing-screen { /* Targets the main container for the landing page */
            width: 100%; /* Makes the container take up the full width */
            max-width: 400px; /* Limits width on desktop so it looks like a mobile app */
            padding: 20px; /* Adds breathing room inside the edges of the screen */
            box-sizing: border-box; /* Ensures padding doesn't make the box wider than 100% */
            text-align: center; /* Centers all text inside this container */
        } /* Closes the landing screen style rule */

        #logo-container img { /* Targets the image inside the logo container */
            width: 300px; /* Sets a fixed width for the logo */
            height: auto; /* Keeps the logo aspect ratio correct (no stretching) */
            margin-bottom: 20px; /* Adds space below the logo */
            border-radius: 50%; /* Optional: Makes the logo image circular */
            border: 3px solid #00d4ff; /* Adds a cool cyan border around the logo */
        } /* Closes the logo image style rule */

        #score-display { /* Targets the score area */
            background-color: #1e1e1e; /* Sets a slightly lighter background for the score box */
            padding: 15px; /* Adds space inside the score box */
            border-radius: 12px; /* Rounds the corners of the score box */
            margin-bottom: 30px; /* Pushes the buttons away from the score box */
            box-shadow: 0 4px 6px rgba(0,0,0,0.3); /* Adds a subtle shadow for depth */
        } /* Closes the score display style rule */

        h2 {
            /* Text Styling */
            margin: 0;
            font-size: 2rem;
                
            /* Spacing from the top of the page */
            padding-top: 20px;
                
            /* Centering */
            text-align: center;
            width: 100%; /* Ensures the line goes all the way across */
            
            /* The Separator Line */
            border-bottom: 1px solid #333; /* A thin dark grey line */
            padding-bottom: 20px; /* Space between text and line */
            margin-bottom: 20px; /* Space between line and buttons */
        }

        h3 {
            text-align: center; /* Centers the text */
            width: 100%;
            border-bottom: 1px solid #333; /* Adds the separator line */
            padding-bottom: 10px; /* Space between text and line */
            margin-bottom: 20px; /* Space between line and buttons */
            margin-top: 0;
        }
        
        #current-score { /* Targets the actual score number */
            color: #00d4ff; /* Makes the score number a bright cyan color */
            font-weight: bold; /* Makes the score number thick and bold */
        } /* Closes the current score style rule */

        button { /* Targets all buttons on the page */
            width: 100%; /* Makes buttons stretch to fill the width */
            padding: 15px; /* Adds nice internal spacing for easy tapping */
            margin-bottom: 15px; /* Adds space between each button */
            background-color: #333333; /* Sets the button background color to dark grey */
            color: white; /* Sets the button text color to white */
            border: none; /* Removes the ugly default grey border */
            border-radius: 8px; /* Rounds the corners of the buttons */
            font-size: 1.1rem; /* Increases text size for readability */
            cursor: pointer; /* Changes the mouse cursor to a hand on computers */
            transition: background-color 0.3s; /* Smoothly animates color changes */
            webkit-appearance: none; /* Stops iOS from adding gloss/gradients */
            appearance: none;         /* Standard reset for other phones */
        } /* Closes the button style rule */

        button:active { /* Targets the button specifically when it is being tapped */
            background-color: #00d4ff; /* Flashes blue when you tap it */
            color: black; /* Changes text to black for contrast when tapped */
            transform: scale(0.98); /* Slightly shrinks the button for a "click" feel */
        } /* Closes the button active state rule */

        .screen { /* Targets the screen class we made earlier */
            display: none; /* Keeps screens hidden by default */
        } /* Closes the screen class rule */

        .active { /* Targets the active class */
            display: block; /* Overrides hidden to show the active screen */
        } /* Closes the active class rule */

/* This class makes the button look finished */
        .completed-room {
            text-decoration: line-through !important; /* Cross out text */
            opacity: 0.5; /* Make it look faded */
            background-color: #222 !important; /* Make it darker */
        }

/* THE PARTY SCREEN */
        #success-overlay {
            position: fixed; /* Sit on top of everything */
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.95); /* Pitch black background */
            display: none; /* Hidden by default */
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000; /* Ensure it is on top of everything */
            animation: fadeIn 0.3s ease-in-out;
        }

        #success-overlay h1 {
            color: #2ecc71; /* Neon Green */
            font-size: 3rem;
            text-transform: uppercase;
            text-shadow: 0 0 20px #2ecc71; /* Glowing effect */
            margin-bottom: 10px;
        }

        #success-overlay p {
            font-size: 1.5rem;
            color: white;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }


        
    </style> </head>
<body>

<div id="success-overlay">
        <h1>Room Cleared!</h1>
        <p>+100 Points</p>
    </div>

        
    <div id="landing-screen" class="active">
        
        <div id="logo-container">
            <img src="logo.png" alt="Location Logo">
        </div> <div id="score-display">
            <h2>Total Score: <span id="current-score">0</span></h2>
        </div> <div id="room-groups">
            <button onclick="showRoomGroup(1)"> Rooms 1 - 5 </button>
            <button onclick="showRoomGroup(2)"> Rooms 6 - 10 </button>
            <button onclick="showRoomGroup(3)"> Rooms 11 - 15 </button>
            <button onclick="showRoomGroup(4)"> Rooms 16 - 20 </button>
        </div>

<div style="margin-top: 40px; border-top: 1px solid #333; padding-top: 20px;">
            <button onclick="resetGame()" style="background-color: #333; border: 1px solid #555; font-size: 0.9rem; padding: 10px;">
                üóëÔ∏è Reset / New Game
            </button>
        </div>
        </div>
   <div id="group-1" class="screen">
        <h2>Rooms 1 - 5</h2>
        <div class="room-list">
            <button id="btn-room-1" onclick="openRoom(1)">Room 1</button>
            <button id="btn-room-2" onclick="openRoom(2)">Room 2</button>
            <button id="btn-room-3" onclick="openRoom(3)">Room 3</button>
            <button id="btn-room-4" onclick="openRoom(4)">Room 4</button>
            <button id="btn-room-5" onclick="openRoom(5)">Room 5</button>
        </div>
        <button onclick="showLandingPage()" style="background-color: #555; margin-top: 20px;">
            Back to Menu
        </button>
    </div>

    <div id="group-2" class="screen">
        <h2>Rooms 6 - 10</h2>
        <div class="room-list">
            <button id="btn-room-6" onclick="openRoom(6)">Room 6</button>
            <button id="btn-room-7" onclick="openRoom(7)">Room 7</button>
            <button id="btn-room-8" onclick="openRoom(8)">Room 8</button>
            <button id="btn-room-9" onclick="openRoom(9)">Room 9</button>
            <button id="btn-room-10" onclick="openRoom(10)">Room 10</button>
        </div>
        <button onclick="showLandingPage()" style="background-color: #555; margin-top: 20px;">
            Back to Menu
        </button>
    </div>

    <div id="group-3" class="screen">
        <h2>Rooms 11 - 15</h2>
        <div class="room-list">
            <button id="btn-room-11" onclick="openRoom(11)">Room 11</button>
            <button id="btn-room-12" onclick="openRoom(12)">Room 12</button>
            <button id="btn-room-13" onclick="openRoom(13)">Room 13</button>
            <button id="btn-room-14" onclick="openRoom(14)">Room 14</button>
            <button id="btn-room-15" onclick="openRoom(15)">Room 15</button>
        </div>
        <button onclick="showLandingPage()" style="background-color: #555; margin-top: 20px;">
            Back to Menu
        </button>
    </div>

    <div id="group-4" class="screen">
        <h2>Rooms 16 - 20</h2>
        <div class="room-list">
            <button id="btn-room-16" onclick="openRoom(16)">Room 16</button>
            <button id="btn-room-17" onclick="openRoom(17)">Room 17</button>
            <button id="btn-room-18" onclick="openRoom(18)">Room 18</button>
            <button id="btn-room-19" onclick="openRoom(19)">Room 19</button>
            <button id="btn-room-20" onclick="openRoom(20)">Room 20</button>
        </div>
        <button onclick="showLandingPage()" style="background-color: #555; margin-top: 20px;">
            Back to Menu
        </button>
    </div>

<div id="room-screen" class="screen">
        
        <h2 id="room-title">Room X</h2>

        <div id="hints-container">
            <h3>Hints (Cost points!)</h3>
            
            <button onclick="revealHint(1)" id="hint-btn-1" style="background-color: #f1c40f; color: white; border: none;">
                Show Hint 1 (-5 pts)
            </button>
            <p id="hint-text-1" style="display:none; color: #f1c40f; font-weight: bold;">
                Here is the first clue...
            </p>

            <button onclick="revealHint(2)" id="hint-btn-2" style="background-color: #ff9f43; color: white; border: none;">
                Show Hint 2 (-10 pts)
            </button>
            <p id="hint-text-2" style="display:none; color: #ff9f43; font-weight: bold;">
                Here is the second clue...
            </p>

            <button onclick="revealHint(3)" id="hint-btn-3" style="background-color: #8b0000; color: white; border: none;">
                Show Hint 3 (-15 pts)
            </button>
            <p id="hint-text-3" style="display:none; color: #8b0000; font-weight: bold;">
                Here is the final clue...
            </p>
        </div>

        <div style="margin-top: 30px;">
            <button onclick="completeRoom()" style="background-color: #27ae60; padding: 20px; font-size: 1.2rem;">
                ROOM COMPLETED (+100 pts)
            </button>
        </div>

        <button onclick="exitRoom()" style="background-color: #c0392b; margin-top: 20px;">
            Give Up / Back
        </button>

    </div>

        
<script>
        // --- VARIABLES (The Memory) ---
        var currentActiveRoom = 0; 
        var totalScore = 0; 
        
        // An array to keep track of which rooms are done (e.g., [1, 5, 12])
        var completedRooms = []; 
        
        //An object to track purchased hints per room
        // Format will look like: { "1": [1, 2], "5": [1] }
        var purchasedHints = {};
        
        // --- ON LOAD: CHECK FOR SAVED GAME ---
        // This runs instantly when the page loads
        var savedScore = localStorage.getItem('siteScore');
        var savedRooms = localStorage.getItem('siteRooms');
        var savedHints = localStorage.getItem('siteHints');
        if (savedHints) {
            purchasedHints = JSON.parse(savedHints);
        }

        if (savedScore) {
            // 1. Restore the Score
            totalScore = parseInt(savedScore); // Convert text to number
            document.getElementById('current-score').innerText = totalScore;
        }

        if (savedRooms) {
            // 2. Restore the Completed Rooms
            completedRooms = JSON.parse(savedRooms); // Convert text back to list
            
            // Loop through the list and cross them out again
            for (var i = 0; i < completedRooms.length; i++) {
                var roomNum = completedRooms[i];
                var btn = document.getElementById('btn-room-' + roomNum);
                if (btn) btn.classList.add('completed-room');
            }
        }

        // --- NAVIGATION FUNCTIONS ---

        function showRoomGroup(groupNumber) {
            document.getElementById('landing-screen').className = 'screen';
            var groupToOpen = 'group-' + groupNumber;
            document.getElementById(groupToOpen).className = 'active';
        }

        function showLandingPage() {
            // Hide all groups
            document.getElementById('group-1').className = 'screen';
            document.getElementById('group-2').className = 'screen';
            document.getElementById('group-3').className = 'screen';
            document.getElementById('group-4').className = 'screen';
            // Show Landing
            document.getElementById('landing-screen').className = 'active';
        }

        // --- GAME LOGIC ---

        function openRoom(roomNumber) {
            currentActiveRoom = roomNumber;
            var data = roomData[roomNumber];

            document.getElementById('room-title').innerText = 'Room ' + roomNumber;
            
            if (data) {
                document.getElementById('hint-text-1').innerText = data.hint1;
                document.getElementById('hint-text-2').innerText = data.hint2;
                document.getElementById('hint-text-3').innerText = data.hint3;
            }

            // Reset all hints to hidden first
            resetHints();

            // NEW: Check if this room has hints already bought
            if (purchasedHints[roomNumber]) {
                var hintsForThisRoom = purchasedHints[roomNumber];
                
                // If hint 1 was bought before, show it now for free
                if (hintsForThisRoom.includes(1)) {
                    document.getElementById('hint-btn-1').style.display = 'none';
                    document.getElementById('hint-text-1').style.display = 'block';
                }
                if (hintsForThisRoom.includes(2)) {
                    document.getElementById('hint-btn-2').style.display = 'none';
                    document.getElementById('hint-text-2').style.display = 'block';
                }
                if (hintsForThisRoom.includes(3)) {
                    document.getElementById('hint-btn-3').style.display = 'none';
                    document.getElementById('hint-text-3').style.display = 'block';
                }
            }


        function resetHints() {
            document.getElementById('hint-text-1').style.display = 'none';
            document.getElementById('hint-text-2').style.display = 'none';
            document.getElementById('hint-text-3').style.display = 'none';
            document.getElementById('hint-btn-1').style.display = 'inline-block';
            document.getElementById('hint-btn-2').style.display = 'inline-block';
            document.getElementById('hint-btn-3').style.display = 'inline-block';
        }

        function exitRoom() {
            document.getElementById('room-screen').className = 'screen';
            var groupToGoBackTo = Math.ceil(currentActiveRoom / 5);
            var groupID = 'group-' + groupToGoBackTo;
            document.getElementById(groupID).className = 'active';
        }

        // --- SCORING FUNCTIONS (With Auto-Save) ---

       function revealHint(hintNumber) {
            // Check if hint was already bought to prevent double charging
            if (!purchasedHints[currentActiveRoom]) {
                purchasedHints[currentActiveRoom] = [];
            }

            // Only subtract points if they haven't bought it in THIS session
            if (!purchasedHints[currentActiveRoom].includes(hintNumber)) {
                document.getElementById('hint-btn-' + hintNumber).style.display = 'none';
                document.getElementById('hint-text-' + hintNumber).style.display = 'block';

                if(hintNumber === 1) totalScore -= 5;
                if(hintNumber === 2) totalScore -= 10;
                if(hintNumber === 3) totalScore -= 15;

                document.getElementById('current-score').innerText = totalScore;
                
                // Record the purchase
                purchasedHints[currentActiveRoom].push(hintNumber);
                saveGameData();
            }
        }

        function saveGameData() {
            localStorage.setItem('siteScore', totalScore);
            localStorage.setItem('siteRooms', JSON.stringify(completedRooms));
            // NEW: Save the hints too!
            localStorage.setItem('siteHints', JSON.stringify(purchasedHints));
        }
        function completeRoom() {
            // 1. Show Fanfare
            document.getElementById('success-overlay').style.display = 'flex';

            // 2. Update Score
            totalScore += 100;
            document.getElementById('current-score').innerText = totalScore;

            // 3. Mark visual button as done
            var buttonId = 'btn-room-' + currentActiveRoom;
            var buttonElement = document.getElementById(buttonId);
            if (buttonElement) {
                buttonElement.classList.add('completed-room');
            }

            // 4. SAVE DATA
            // We verify if we already saved this room to avoid duplicates
            if (!completedRooms.includes(currentActiveRoom)) {
                completedRooms.push(currentActiveRoom); // Add to memory list
                saveGameData(); // Save to browser
            }

            // 5. Wait 5 seconds then return
            setTimeout(function() {
                document.getElementById('success-overlay').style.display = 'none';
                document.getElementById('room-screen').className = 'screen';
                document.getElementById('landing-screen').className = 'active';
            }, 5000); 
        }

        // --- SAVE/RESET HELPERS ---


        function resetGame() {
            if(confirm("Are you sure? This will delete all progress.")) {
                // Clear the browser memory
                localStorage.clear();
                // Reload the page to start fresh
                location.reload();
            }
        }

        // --- THE HINT DATABASE ---
        var roomData = {
            1: {
                hint1: "Room 1 Hint 1: Check under the doormat.",
                hint2: "Room 1 Hint 2: The key is silver.",
                hint3: "Room 1 Hint 3: Code is 5555."
            },
            2: {
                hint1: "Room 2 Hint 1: Look at the painting.",
                hint2: "Room 2 Hint 2: Count the apples.",
                hint3: "Room 2 Hint 3: It is behind the chair."
            },
            3: {
                hint1: "Room 3 Hint 1: Text goes here...",
                hint2: "Room 3 Hint 2: Text goes here...",
                hint3: "Room 3 Hint 3: Text goes here..."
            },
            4: { hint1: "...", hint2: "...", hint3: "..." },
            5: { hint1: "...", hint2: "...", hint3: "..." },
            6: { hint1: "...", hint2: "...", hint3: "..." },
            7: { hint1: "...", hint2: "...", hint3: "..." },
            8: { hint1: "...", hint2: "...", hint3: "..." },
            9: { hint1: "...", hint2: "...", hint3: "..." },
            10: { hint1: "...", hint2: "...", hint3: "..." },
            11: { hint1: "...", hint2: "...", hint3: "..." },
            12: { hint1: "...", hint2: "...", hint3: "..." },
            13: { hint1: "...", hint2: "...", hint3: "..." },
            14: { hint1: "...", hint2: "...", hint3: "..." },
            15: { hint1: "...", hint2: "...", hint3: "..." },
            16: { hint1: "...", hint2: "...", hint3: "..." },
            17: { hint1: "...", hint2: "...", hint3: "..." },
            18: { hint1: "...", hint2: "...", hint3: "..." },
            19: { hint1: "...", hint2: "...", hint3: "..." },
            20: { hint1: "...", hint2: "...", hint3: "..." }
        };

    </script>
</body>
</html>



