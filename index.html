<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>Room Score Tracker</title> <style> /* Opens the CSS section to define the visual style */

#success-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.9);
    display: none;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 9999;
    animation: fadeIn 0.3s ease-in-out;
}

        
        body { /* Selects the entire page body to set defaults */
            background-color: #121212; /* Sets the background to a dark, modern grey-black */
            color: #ffffff; /* Sets the default text color to white for contrast */
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; /* Sets a clean, modern font stack */
            margin: 0; /* Removes default messy spacing around the edges */
            padding: 0; /* Removes default internal spacing */
            display: flex; /* Uses Flexbox layout to align items easily */
            flex-direction: column; /* Stacks items vertically (top to bottom) */
            align-items: center; /* Centers items horizontally in the middle */
            min-height: 100vh; /* Ensures the background fills the full phone screen height */
        } /* Closes the body style rule */

        #landing-screen { /* Targets the main container for the landing page */
            width: 100%; /* Makes the container take up the full width */
            max-width: 400px; /* Limits width on desktop so it looks like a mobile app */
            padding: 20px; /* Adds breathing room inside the edges of the screen */
            box-sizing: border-box; /* Ensures padding doesn't make the box wider than 100% */
            text-align: center; /* Centers all text inside this container */
        } /* Closes the landing screen style rule */

        #logo-container img { /* Targets the image inside the logo container */
            width: 300px; /* Sets a fixed width for the logo */
            height: auto; /* Keeps the logo aspect ratio correct (no stretching) */
            margin-bottom: 20px; /* Adds space below the logo */
            border-radius: 50%; /* Optional: Makes the logo image circular */
            border: 3px solid #00d4ff; /* Adds a cool cyan border around the logo */
        } /* Closes the logo image style rule */

        #score-display { /* Targets the score area */
            background-color: #1e1e1e; /* Sets a slightly lighter background for the score box */
            padding: 15px; /* Adds space inside the score box */
            border-radius: 12px; /* Rounds the corners of the score box */
            margin-bottom: 30px; /* Pushes the buttons away from the score box */
            box-shadow: 0 4px 6px rgba(0,0,0,0.3); /* Adds a subtle shadow for depth */
        } /* Closes the score display style rule */

        h2 {
            /* Text Styling */
            margin: 0;
            font-size: 2rem;
                
            /* Spacing from the top of the page */
            padding-top: 20px;
                
            /* Centering */
            text-align: center;
            width: 100%; /* Ensures the line goes all the way across */
            
            /* The Separator Line */
            border-bottom: 1px solid #333; /* A thin dark grey line */
            padding-bottom: 20px; /* Space between text and line */
            margin-bottom: 20px; /* Space between line and buttons */
        }

        h3 {
            text-align: center; /* Centers the text */
            width: 100%;
            border-bottom: 1px solid #333; /* Adds the separator line */
            padding-bottom: 10px; /* Space between text and line */
            margin-bottom: 20px; /* Space between line and buttons */
            margin-top: 0;
        }
        
        #current-score { /* Targets the actual score number */
            color: #00d4ff; /* Makes the score number a bright cyan color */
            font-weight: bold; /* Makes the score number thick and bold */
        } /* Closes the current score style rule */

        button { /* Targets all buttons on the page */
            width: 100%; /* Makes buttons stretch to fill the width */
            padding: 15px; /* Adds nice internal spacing for easy tapping */
            margin-bottom: 15px; /* Adds space between each button */
            background-color: #333333; /* Sets the button background color to dark grey */
            color: white; /* Sets the button text color to white */
            border: none; /* Removes the ugly default grey border */
            border-radius: 8px; /* Rounds the corners of the buttons */
            font-size: 1.1rem; /* Increases text size for readability */
            cursor: pointer; /* Changes the mouse cursor to a hand on computers */
            transition: background-color 0.3s; /* Smoothly animates color changes */
            -webkit-appearance: none; /* Stops iOS from adding gloss/gradients */
            appearance: none;         /* Standard reset for other phones */
        } /* Closes the button style rule */

        button:active { /* Targets the button specifically when it is being tapped */
            background-color: #00d4ff; /* Flashes blue when you tap it */
            color: black; /* Changes text to black for contrast when tapped */
            transform: scale(0.98); /* Slightly shrinks the button for a "click" feel */
        } /* Closes the button active state rule */

        .screen { /* Targets the screen class we made earlier */
            display: none; /* Keeps screens hidden by default */
        } /* Closes the screen class rule */

        .active { /* Targets the active class */
            display: block; /* Overrides hidden to show the active screen */
        } /* Closes the active class rule */

/* This class makes the button look finished */
        .completed-room {
            text-decoration: line-through !important; /* Cross out text */
            opacity: 0.5; /* Make it look faded */
            background-color: #222 !important; /* Make it darker */
        }


        #success-overlay h1 {
            color: #2ecc71; /* Neon Green */
            font-size: 3rem;
            text-transform: uppercase;
            text-shadow: 0 0 20px #2ecc71; /* Glowing effect */
            margin-bottom: 10px;
        }

        #success-overlay p {
            font-size: 1.5rem;
            color: white;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }


        
    </style> </head>
<body>

<div id="success-overlay">
    <h1>Room Cleared!</h1>
    <p id="success-points-text">+100 Points</p>
</div>

        
    <div id="landing-screen" class="active">
        
        <div id="logo-container">
            <img src="logo.png" alt="Location Logo">
        </div> <div id="score-display">
            <h2>Total Score: <span id="current-score">0</span></h2>
    <div id="room-groups">
            <button onclick="showTheme(1)"> Game Show </button>
            <button onclick="showTheme(2)"> Rat Trap </button>
            <button onclick="showTheme(3)"> Space </button>
            <button onclick="showTheme(4)"> Island </button>
            <button onclick="showTheme(5)"> Mineshaft </button>
            <button onclick="showTheme(6)"> Cat Burglar </button>
            <button onclick="showTheme(7)"> Temple </button>
            <button onclick="showTheme(8)"> Hex </button>
        </div>

<div style="margin-top: 40px; border-top: 1px solid #333; padding-top: 20px;">
            <button onclick="resetGame()" style="background-color: #333; border: 1px solid #555; font-size: 0.9rem; padding: 10px;">
                üóëÔ∏è Reset / New Game
            </button>
        </div>
        </div>
</div>


<div id="theme-1" class="screen">
        <h2>Game Show</h2>
        <div class="room-list">
            <button id="btn-room-1" onclick="openRoom(1)">Level 1</button>
            <button id="btn-room-2" onclick="openRoom(2)">Level 2</button>
            <button id="btn-room-3" onclick="openRoom(3)">Level 3</button>
        </div>
        <button onclick="showLandingPage()" style="background-color: #555; margin-top: 20px;">Back to Menu</button>
    </div>


<div id="theme-2" class="screen">
        <h2>Rat Trap</h2>
        <div class="room-list">
            <button id="btn-room-4" onclick="openRoom(4)">Level 1</button>
            <button id="btn-room-5" onclick="openRoom(5)">Level 2</button>
            <button id="btn-room-6" onclick="openRoom(6)">Level 3</button>
        </div>
        <button onclick="showLandingPage()" style="background-color: #555; margin-top: 20px;">Back to Menu</button>
    </div>


<div id="theme-3" class="screen">
        <h2>Space</h2>
        <div class="room-list">
            <button id="btn-room-7" onclick="openRoom(7)">Level 1</button>
            <button id="btn-room-8" onclick="openRoom(8)">Level 2</button>
            <button id="btn-room-9" onclick="openRoom(9)">Level 3</button>
        </div>
        <button onclick="showLandingPage()" style="background-color: #555; margin-top: 20px;">Back to Menu</button>
    </div>


<div id="theme-4" class="screen">
        <h2>Island</h2>
        <div class="room-list">
            <button id="btn-room-10" onclick="openRoom(10)">Level 1</button>
            <button id="btn-room-11" onclick="openRoom(11)">Level 2</button>
            <button id="btn-room-12" onclick="openRoom(12)">Level 3</button>
        </div>
        <button onclick="showLandingPage()" style="background-color: #555; margin-top: 20px;">Back to Menu</button>
    </div>


<div id="theme-5" class="screen">
        <h2>Mineshaft</h2>
        <div class="room-list">
            <button id="btn-room-13" onclick="openRoom(13)">Level 1</button>
            <button id="btn-room-14" onclick="openRoom(14)">Level 2</button>
            <button id="btn-room-15" onclick="openRoom(15)">Level 3</button>
        </div>
        <button onclick="showLandingPage()" style="background-color: #555; margin-top: 20px;">Back to Menu</button>
    </div>


<div id="theme-6" class="screen">
        <h2>Cat Burglar</h2>
        <div class="room-list">
            <button id="btn-room-16" onclick="openRoom(16)">Level 1</button>
            <button id="btn-room-17" onclick="openRoom(17)">Level 2</button>
            <button id="btn-room-18" onclick="openRoom(18)">Level 3</button>
        </div>
        <button onclick="showLandingPage()" style="background-color: #555; margin-top: 20px;">Back to Menu</button>
    </div>


<div id="theme-7" class="screen">
        <h2>Temple</h2>
        <div class="room-list">
            <button id="btn-room-19" onclick="openRoom(19)">Level 1</button>
            <button id="btn-room-20" onclick="openRoom(20)">Level 2</button>
            <button id="btn-room-21" onclick="openRoom(21)">Level 3</button>
        </div>
        <button onclick="showLandingPage()" style="background-color: #555; margin-top: 20px;">Back to Menu</button>
    </div>


<div id="theme-8" class="screen">
    <h2>Hex</h2>
    <div class="room-list">
        <button id="btn-room-22" onclick="openRoom(22)">Level 1</button>
        <button id="btn-room-23" onclick="openRoom(23)">Level 2</button>
        <button id="btn-room-24" onclick="openRoom(24)">Level 3</button>
    </div>
    <button onclick="showLandingPage()" style="background-color: #555; margin-top: 20px;">Back to Menu</button>
</div>




    <div id="room-screen" class="screen">
        
        <h2 id="room-title">Room X</h2>

        <div id="hints-container">
            <h3>Hints (Cost points!)</h3>
            
            <button onclick="revealHint(1)" id="hint-btn-1" style="background-color: #f1c40f; color: white; border: none;">
                Show Hint 1 (-5 pts)
            </button>
            <p id="hint-text-1" style="display:none; color: #f1c40f; font-weight: bold;">
                Here is the first clue...
            </p>
        </div>

        <div style="margin-top: 30px;">
            <button onclick="completeRoom()" style="background-color: #27ae60; padding: 20px; font-size: 1.2rem;">
                ROOM COMPLETED
            </button>
        </div>

        <button onclick="exitRoom()" style="background-color: #c0392b; margin-top: 20px;">
            Give Up / Back
        </button>

    </div>

        
<script>
    // --- VARIABLES ---
    var currentActiveRoom = 0; 
    var totalScore = 0; 
    var completedRooms = []; 
    var purchasedHints = {}; 

    // --- ON LOAD ---
    var savedScore = localStorage.getItem('siteScore');
    var savedRooms = localStorage.getItem('siteRooms');
    var savedHints = localStorage.getItem('siteHints');

    if (savedHints) { purchasedHints = JSON.parse(savedHints); }

    if (savedScore) {
        totalScore = parseInt(savedScore);
        document.getElementById('current-score').innerText = totalScore;
    }

    if (savedRooms) {
        completedRooms = JSON.parse(savedRooms);
        for (var i = 0; i < completedRooms.length; i++) {
            var roomNum = completedRooms[i];
            var btn = document.getElementById('btn-room-' + roomNum);
            if (btn) btn.classList.add('completed-room');
        }
    }

    // --- NAVIGATION ---
    function showTheme(themeNumber) {
        document.getElementById('landing-screen').className = 'screen';
        var themeToOpen = 'theme-' + themeNumber;
        document.getElementById(themeToOpen).className = 'active';
    }

    function showLandingPage() {
        for (var i = 1; i <= 8; i++) {
            var themeDiv = document.getElementById('theme-' + i);
            if (themeDiv) themeDiv.className = 'screen';
        }
        document.getElementById('landing-screen').className = 'active';
    }

    function exitRoom() {
        document.getElementById('room-screen').className = 'screen';
        // Logic: Rooms 1-3 -> Theme 1, 4-6 -> Theme 2, etc.
        var themeToGoBackTo = Math.ceil(currentActiveRoom / 3);
        var themeID = 'theme-' + themeToGoBackTo;
        document.getElementById(themeID).className = 'active';
    }

    // --- GAME LOGIC ---
    function openRoom(roomNumber) {
        currentActiveRoom = roomNumber;
        var data = roomData[roomNumber];
    var level = ((roomNumber - 1) % 3) + 1;
    document.getElementById('room-title').innerText = 'Level ' + level;        
        // Only loading Hint 1 now
        if (data) {
            document.getElementById('hint-text-1').innerText = data.hint1;
        }

        resetHints();

        // Check if hint 1 was bought
        if (purchasedHints[roomNumber]) {
            var hintsForThisRoom = purchasedHints[roomNumber];
            if (hintsForThisRoom.includes(1)) {
                document.getElementById('hint-btn-1').style.display = 'none';
                document.getElementById('hint-text-1').style.display = 'block';
            }
        }

        // Hide all themes
        for (var i = 1; i <= 8; i++) {
            var themeDiv = document.getElementById('theme-' + i);
            if (themeDiv) themeDiv.className = 'screen';
        }
        
        // Show Room
        document.getElementById('room-screen').className = 'active';
    } 

    function resetHints() {
        // Only resetting Hint 1
        document.getElementById('hint-text-1').style.display = 'none';
        document.getElementById('hint-btn-1').style.display = 'inline-block';
    }

    function revealHint(hintNumber) {
        if (!purchasedHints[currentActiveRoom]) {
            purchasedHints[currentActiveRoom] = [];
        }

        if (!purchasedHints[currentActiveRoom].includes(hintNumber)) {
            // Safety check for score
            if (totalScore < 5) {
                alert("Not enough points!");
                return;
            }

            document.getElementById('hint-btn-1').style.display = 'none';
            document.getElementById('hint-text-1').style.display = 'block';

            totalScore -= 5; // Deduct 5 points
            document.getElementById('current-score').innerText = totalScore;
            
            purchasedHints[currentActiveRoom].push(hintNumber);
            saveGameData();
        }
    }

// THIS IS THE FIXED FUNCTION (I cleaned up the duplicate mess)
function completeRoom() {
    if (completedRooms.includes(currentActiveRoom)) return;

    // 1. Calculate Level
    var level = ((currentActiveRoom - 1) % 3) + 1;

    // 2. Decide Points
    var pointsEarned = 0;
    if (level === 1) pointsEarned = 15;
    else if (level === 2) pointsEarned = 35;
    else pointsEarned = 50;

    // 3. Update Text
    document.getElementById('success-points-text').innerText = "+" + pointsEarned + " Points";

    var overlay = document.getElementById('success-overlay');
    overlay.style.animation = 'none';
    overlay.offsetHeight; 
    overlay.style.animation = 'fadeIn 0.3s ease-in-out';
    overlay.style.display = 'flex';

    // 4. Update Score & Save
    totalScore += pointsEarned;
    document.getElementById('current-score').innerText = totalScore;

    var buttonId = 'btn-room-' + currentActiveRoom;
    var buttonElement = document.getElementById(buttonId);
    if (buttonElement) {
        buttonElement.classList.add('completed-room');
    }

    completedRooms.push(currentActiveRoom);
    saveGameData();

    // 5. Navigation Logic
    setTimeout(function() {
        overlay.style.display = 'none';
        
        if (level < 3) {
            // Auto-advance to the next room (e.g. Room 1 -> Room 2)
            openRoom(currentActiveRoom + 1); 
        } else {
            // Level 3 finished -> Kick to Main Menu
            document.getElementById('room-screen').className = 'screen';
            showLandingPage();
        }
    }, 3000);
}

    // --- SAVE/RESET ---
    function saveGameData() {
        localStorage.setItem('siteScore', totalScore);
        localStorage.setItem('siteRooms', JSON.stringify(completedRooms));
        localStorage.setItem('siteHints', JSON.stringify(purchasedHints));
    }

    function resetGame() {
        if(confirm("Are you sure? This will delete all progress.")) {
            localStorage.removeItem('siteScore');
            localStorage.removeItem('siteRooms');
            localStorage.removeItem('siteHints');
            location.reload();
        }
    }

    // --- THE HINT DATABASE ---
    var roomData = {
        1: { hint1: "Room 1 Hint: Check under the doormat." },
        2: { hint1: "Room 2 Hint: Look at the painting." },
        3: { hint1: "Room 3 Hint: Text goes here..." },
        4: { hint1: "..." },
        5: { hint1: "..." },
        6: { hint1: "..." },
        7: { hint1: "..." },
        8: { hint1: "..." },
        9: { hint1: "..." },
        10: { hint1: "..." },
        11: { hint1: "..." },
        12: { hint1: "..." },
        13: { hint1: "..." },
        14: { hint1: "..." },
        15: { hint1: "..." },
        16: { hint1: "..." },
        17: { hint1: "..." },
        18: { hint1: "..." },
        19: { hint1: "..." },
        20: { hint1: "..." },
        21: { hint1: "..." },
        22: { hint1: "..." },
        23: { hint1: "..." },
        24: { hint1: "..." }
    };
</script>
</body>
</html>
